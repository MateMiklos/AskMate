<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Display a Question</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/style.css') }}">
</head>
<body>
{% block content %}
    <div class="topnav">
        <a href="{{ url_for('list') }}">List all of the questions</a>
        <a href='/ask-question' style="text-decoration: none">Ask a question</a>
        <a href="#contact">Contact</a>
        <form action="{{ url_for("search") }}" method="GET">
            <input type="text" name="search" placeholder="Search..">
        </form>
    </div>
    <h1>Display Question</h1>
    <br>
    <h2>Comments:</h2>
    {% for line in questions %}
        <p align="center"><a class="button"
                             href="{{ url_for('add_comment_to_question', question_id = line["id"]) }}">
            Comment here on a question</a></p>
    {% endfor %}

    {% for line in comment_to_question %}

        <p class="comment" align="center" style="text-decoration: underline;"><em>{{ line.message }}</em></p>
        <table align="center">

            <tr>
                <td>Submission time</td>
                <td>Times edited</td>
            </tr>
            <tr>
                <td>{{ line.submission_time }}</td>
                <td>{{ line.edited_count }}</td>
                <td>
                    {% for comment_id in comment_to_question %}
                        <div id="button">
                            <form action='{{ url_for('delete_comment', question_id=comment_id['question_id']) }}'
                                  method="post">
                                <input type="submit" class="button" value="Delete"/>
                            </form>
                        </div>
                    {% endfor %}
                </td>
            </tr>


        </table>


    {% endfor %}
    <br>
    <table>
        <tr>
            {% for line in header %}
                <th>{{ line }}</th>
            {% endfor %}
        </tr>
        {% for line in questions %}
            <tr>
                <td>{{ line['id'] }}</td>
                <td>{{ line['submission_time'] }}</td>
                <td>{{ line['view_number'] }}</td>
                <td>{{ line['vote_number'] }}
                <td>{{ line['title'] }}</td>
                <td>{{ line['message'] }}</td>

            </tr>
        {% endfor %}
        <br><br>
    </table>
    <br><br>
    <div style="text-align:center;">
        <h3>Answer</h3>
    </div>
    <table>
        <tr>
            {% for line in answers_header %}
                <th>{{ line }}</th>
            {% endfor %}
        </tr>
        {% for line in answers %}
            <tr>
                <td>{{ line["id"] }}</td>
                <td>{{ line["submission_time"] }}</td>
                <td>{{ line['question_id'] }}</td>
                <td>{{ line['message'] }}</td>
                <td>{{ line['image'] }}</td>
                <td>
                    <div id="button">
                        <a href='/update/{{ line["id"] }}/edit' class="button" style="text-decoration:none"> Edit</a>
                        <br>
                    </div>
                </td>
                <td>
                    <div id="button">
                        <a href='/answer/{{ line['id'] }}/new-comment' class="button" style="text-decoration:none">Add Comment</a>
                    </div>
                </td>

            </tr>
        {% endfor %}
    </table>
    <br><br>
    <br>
    {% for line in questions %}
        <div style="text-align:center;">
        {#    {% if answers['question_id'] is defined %}#}
        <a href='/question/{{ line['id'] }}/new-answer' class="button" style="text-decoration: none">Add New Answer</a>
        {#    {% else%}#}
        {#    <a href='/question/{{0}}/new-answer' class="button" style="text-decoration: none">Add New Answer</a>#}
        {#    {% endif %}#}
    {% endfor %}
</div>
    <br><br>
    <div style="text-align:center;">
        <a href="{{ url_for("index") }}" class="button" style="text-decoration: none">Back to Question</a>
    </div>
{% endblock %}
</body>
</html>